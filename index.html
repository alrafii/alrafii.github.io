<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" >
    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

    <title>Shopping Cart</title>
  </head>
  <body>
    <h1 class="text-center">Select Item</h1>

    <!-- Item Section  -->

    <div class="row row-cols-1 row-cols-md-4 p-1">
        <div class="col mb-2 ml-3">
          <div class="card" >
            <img src="/images/apple_PNG12507.png" class="card-img-top" style="height: 200px; width: 200px;" alt="apples">
            <div class="card-body">
              <h5 class="card-title">APPLES</h5>
              <p class="card-text" >$5.99</p>
              <a class="add-to-cart btn btn-primary" href="#"  data-name="Apple" data-price="5.99">Add to Cart</a>
            </div>
          </div>
        </div>
        <div class="col mb-2">
          <div class="card">
            <img src="/images/unnamed (1).png" class="card-img-top" style="height: 200px; width: 200px;" alt="KIWI">
            <div class="card-body">
              <h5 class="card-title">KIWI</h5>
              <p class="card-text" class="add-to-cart">$3.99</p>
              <a class="add-to-cart btn btn-primary" href="#"  data-name="kiwi" data-price="3.99">Add to Cart</a>
            </div>
          </div>
        </div>
        <div class="col mb-2">
          <div class="card">
            <img src="/images/unnamed.png" class="card-img-top" style="height: 200px; width: 200px;" alt="ORANGES">
            <div class="card-body">
              <h5 class="card-title">ORANGES</h5>
              <p class="card-text" class="add-to-cart">$4.99</p>
              <a class="add-to-cart btn btn-primary" href="#"   data-name="oranges" data-price="4.99">Add to Cart</a>
            </div>
          </div>
        </div>
        <div class="col mb-2">
          <div class="card">
            <img src="/images/5a5f615dee40df432bfac53b.png" class="card-img-top" style="height: 200px; width: 200px;" alt="LICHIES">
            <div class="card-body">
              <h5 class="card-title">LICHIES</h5>
              <p class="card-text" class="add-to-cart">$2.99</p>
              <a class="add-to-cart btn btn-primary" href="#"   data-name="lichies" data-price="2.99">Add to Cart</a>
            </div>
          </div>
        </div>
        <!-- New -->
        <div class="col mb-2">
          <div class="card" >
            <img src="/images/pineapple.png" class="card-img-top" style="height: 200px; width: 200px;" alt="pineapple">
            <div class="card-body">
              <h5 class="card-title">PINEAPPLE</h5>
              <p class="card-text" >$6.99</p>
              <a class="add-to-cart btn btn-primary" href="#"  data-name="pineapple" data-price="6.99">Add to Cart</a>
            </div>
          </div>
        </div>
        <div class="col mb-2">
          <div class="card">
            <img src="/images/Guava.png" class="card-img-top" style="height: 200px; width: 200px;" alt="Guava">
            <div class="card-body">
              <h5 class="card-title">GUAVA</h5>
              <p class="card-text" class="add-to-cart">$7.99</p>
              <a class="add-to-cart btn btn-primary" href="#"  data-name="Guava" data-price="7.99">Add to Cart</a>
            </div>
          </div>
        </div>
        <div class="col mb-2">
          <div class="card">
            <img src="/images/33867-8-banana.png" class="card-img-top" style="height: 200px; width: 200px;" alt="Banana">
            <div class="card-body">
              <h5 class="card-title">BANANA</h5>
              <p class="card-text" class="add-to-cart">$6.99</p>
              <a class="add-to-cart btn btn-primary" href="#"   data-name="Banana" data-price="6.99">Add to Cart</a>
            </div>
          </div>
        </div>
        <div class="col mb-2">
          <div class="card">
            <img src="/images/straw(2).png" class="card-img-top" style="height: 200px; width: 200px;" alt="Strawberry">
            <div class="card-body">
              <h5 class="card-title">STRAWBERRY</h5>
              <p class="card-text" class="add-to-cart">$2.99</p>
              <a class="add-to-cart btn btn-primary" href="#"   data-name="Strawberry" data-price="2.99">Add to Cart</a>
            </div>
          </div>
        </div>
      </div>
      

    <!-- Selected Material -->

    <h1 style="margin-top: 20px; text-align: center;">ShoppingCart</h1>

    <div style="margin: 20px;" >
        <ul id="show-cart">
            <li  style="margin-bottom: 5px;"></li>
            
        </ul>
        <div  >You have <span id="count-cart">X</span> items in your cart</div>
        <div  >Total Cart:$<span id="total-cart"></span></div>
        <a href="#"><button class="btn btn-success my-4 " id="clear-cart">Check Out</button></a>
        <button class="btn btn-primary my-4 " id="clear-cart">Clear Cart</button>
    </div>

    


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" ></script>

    <!-- Jquary Section  -->

    <script src="js/shoppingCart1.js"></script>

    <script>

        $(".add-to-cart").click(function(event){
            event.preventDefault();
            var name = $(this).attr("data-name");
            var price = Number($(this).attr("data-price"));

            shoppingCart.addItemToCart(name, price, 1);
            displayCart();
        });

        $("#clear-cart").click(function(event){
            shoppingCart.clearCart();
            displayCart();
        });

        function displayCart() {
            var cartArray = shoppingCart.listCart();
            console.log(cartArray);
            var output = "";

            for (var i in cartArray) {
                output += "<li>"
                    +cartArray[i].name
                    +" <input class='item-count' type='number' data-name='"
                    +cartArray[i].name
                    +"' value='"+cartArray[i].count+"' >"
                    +" x "+cartArray[i].price
                    +" = "+cartArray[i].total
                    +" <button class='plus-item' data-name='"
                    +cartArray[i].name+"'>+</button>"
                    +" <button class='subtract-item' data-name='"
                    +cartArray[i].name+"'>-</button>"
                    +" <button class='delete-item' data-name='"
                    +cartArray[i].name+"'>X</button>"
                    +"</li>";
            }

            $("#show-cart").html(output);
            $("#count-cart").html( shoppingCart.countCart() );
            $("#total-cart").html( shoppingCart.totalCart() );
        }

        $("#show-cart").on("click", ".delete-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.removeItemFromCartAll(name);
            displayCart();
        });

        $("#show-cart").on("click", ".subtract-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.removeItemFromCart(name);
            displayCart();
        });

        $("#show-cart").on("click", ".plus-item", function(event){
            var name = $(this).attr("data-name");
            shoppingCart.addItemToCart(name, 0, 1);
            displayCart();
        });

        $("#show-cart").on("change", ".item-count", function(event){
            var name = $(this).attr("data-name");
            var count = Number($(this).val());
            shoppingCart.setCountForItem(name, count);
            displayCart();
        });


        displayCart();

    </script>
  </body>
</html>